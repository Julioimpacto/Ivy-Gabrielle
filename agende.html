<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agende sua Tatuagem | Ivy Gabrielli</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            width: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            background-color: #171717;
        }
        .form-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        
        /* Estilo personalizado para o input de arquivo */
        input[type="file"]::-webkit-file-upload-button {
            background-color: #F5E6D3;
            color: #2d2d2d;
            padding: 8px 16px;
            border: 2px solid #E6D5BE;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        input[type="file"]::-webkit-file-upload-button:hover {
            background-color: #E6D5BE;
            border-color: #D4C4AD;
        }
        
        /* Para Firefox e outros navegadores */
        input[type="file"]::file-selector-button {
            background-color: #F5E6D3;
            color: #2d2d2d;
            padding: 8px 16px;
            border: 2px solid #E6D5BE;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        input[type="file"]::file-selector-button:hover {
            background-color: #E6D5BE;
            border-color: #D4C4AD;
        }

        /* Estilo para o botão de envio */
        .submit-button {
            background-color: #F5E6D3;
            color: #2d2d2d;
            border: 2px solid #E6D5BE;
            transition: all 0.3s;
        }
        
        .submit-button:hover {
            background-color: #E6D5BE;
            border-color: #D4C4AD;
        }

        /* Menu e Logo */
        nav {
            position: fixed;
            top: 2rem;
            right: 5%;
            z-index: 20;
            background: transparent;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
        }
        nav ul {
            display: flex;
            gap: 3rem;
            list-style: none;
            margin: 0;
            padding: 0;
            justify-content: flex-end;
            margin-right: 2rem;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-size: 1.25rem;
            font-weight: 500;
            transition: all 0.3s ease;
            font-family: 'Montserrat', sans-serif;
        }
        nav a:hover {
            color: rgba(255,255,255,0.8);
        }
        .menu-mobile-btn {
            display: none;
            position: fixed;
            top: 1rem;
            right: 1.5rem;
            z-index: 30;
            color: white;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 2rem;
            padding: 0.5rem;
            width: 3rem;
            height: 3rem;
            align-items: center;
            justify-content: center;
        }

        /* Mobile e Surface Duo */
        @media (max-width: 767px) {
            .menu-mobile-btn {
                display: flex;
            }
            nav {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.95);
                display: none;
            }
            nav.active {
                display: flex;
                justify-content: center;
                align-items: center;
            }
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }
            nav a {
                font-size: 2rem;
                text-align: center;
                display: block;
                padding: 0.5rem 0;
            }
        }

        /* Tablets e iPads */
        @media (min-width: 768px) and (max-width: 1023px) {
            nav {
                right: 5%;
                max-width: 600px;
            }
            nav ul {
                gap: 2rem;
                justify-content: flex-end;
                margin-right: 1.5rem;
            }
            nav a {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-neutral-900">
    <!-- Menu de navegação -->
    <nav>
        <ul class="flex space-x-16 list-none m-0 p-0">
            <li><a href="index.html" class="text-white hover:text-black transition-colors font-medium text-[1.25rem]">Home</a></li>
            <li><a href="agende.html" class="text-white hover:text-black transition-colors font-medium text-[1.25rem]">Agende</a></li>
            <li><a href="cursos.html" class="text-white hover:text-black transition-colors font-medium text-[1.25rem]">Cursos</a></li>
            <li><a href="obras.html" class="text-white hover:text-black transition-colors font-medium text-[1.25rem]">Obras</a></li>
            <li><a href="projeto-social.html" class="text-white hover:text-black transition-colors font-medium text-[1.25rem]">Projeto Social</a></li>
        </ul>
    </nav>

    <!-- Botão Menu Mobile -->
    <button class="menu-mobile-btn">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Logo -->
    <div class="absolute top-8 left-8 z-20 md:top-12 md:left-12">
        <img src="imagens/logoivy.png" alt="Ivy Gabrielli Logo" class="h-16 md:h-20">
    </div>

    <!-- Formulário -->
    <main class="container mx-auto px-4 py-12 pt-32">
        <div class="max-w-3xl mx-auto form-container rounded-lg shadow-xl p-8">
            <h1 class="text-4xl font-bold text-center mb-8 text-neutral-800">Agende sua Tatuagem</h1>
            
            <form class="space-y-6" id="agendamentoForm">
                <!-- Informações Pessoais -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="nome" class="block text-sm font-medium text-gray-700 mb-1">Nome:</label>
                        <input type="text" id="nome" name="nome" required
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email:</label>
                        <input type="email" id="email" name="email" required
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent">
                    </div>
                    <div>
                        <label for="telefone" class="block text-sm font-medium text-gray-700 mb-1">Telefone:</label>
                        <input type="tel" id="telefone" name="telefone" required
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent">
                    </div>
                    <div>
                        <label for="cidade" class="block text-sm font-medium text-gray-700 mb-1">Cidade:</label>
                        <input type="text" id="cidade" name="cidade" required
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent">
                    </div>
                </div>

                <!-- Cliente Anterior -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Já foi tatuado por mim anteriormente? <span class="text-red-500">*</span></label>
                    <div class="flex space-x-4">
                        <label class="flex items-center">
                            <input type="radio" name="cliente_anterior" value="sim" required class="mr-2">
                            <span>Sim</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="cliente_anterior" value="nao" required class="mr-2">
                            <span>Não</span>
                        </label>
                    </div>
                </div>

                <!-- Local da Tatuagem -->
                <div>
                    <label for="local_tatuagem" class="block text-sm font-medium text-gray-700 mb-1">Local onde deseja fazer a tatuagem:</label>
                    <input type="text" id="local_tatuagem" name="local_tatuagem" 
                        placeholder="Exemplo: antebraço, panturrilha, lateral da coxa" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent">
                </div>

                <!-- Tamanho -->
                <div>
                    <label for="tamanho" class="block text-sm font-medium text-gray-700 mb-1">Tamanho em centímetros:</label>
                    <input type="text" id="tamanho" name="tamanho" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent">
                </div>

                <!-- Ideias -->
                <div>
                    <label for="ideias" class="block text-sm font-medium text-gray-700 mb-1">Suas ideias. Me conte um pouco do que espera na sua arte:</label>
                    <textarea id="ideias" name="ideias" rows="4" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent"></textarea>
                </div>

                <!-- Foto de Referência -->
                <div>
                    <label for="foto" class="block text-sm font-medium text-gray-700 mb-1">Foto de referência: <span class="text-red-500">*</span></label>
                    <input type="file" id="foto" name="foto" accept="image/*" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent bg-gray-50">
                    <p class="text-sm text-gray-500 mt-1">Esse campo será onde você enviará uma imagem de referência</p>
                </div>

                <!-- Disponibilidade -->
                <div>
                    <label for="disponibilidade" class="block text-sm font-medium text-gray-700 mb-1">Quais os melhores dias e horários de preferência para fazer sua tatuagem? <span class="text-red-500">*</span></label>
                    <textarea id="disponibilidade" name="disponibilidade" rows="3" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent"></textarea>
                </div>

                <!-- Comentários Adicionais -->
                <div>
                    <label for="comentarios" class="block text-sm font-medium text-gray-700 mb-1">Comentários: <span class="text-gray-500">(opcional)</span></label>
                    <textarea id="comentarios" name="comentarios" rows="3"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-neutral-500 focus:border-transparent"></textarea>
                </div>

                <!-- Botão de Envio -->
                <div class="text-center">
                    <button type="submit"
                        class="submit-button px-8 py-3 rounded-md font-medium">
                        Enviar Agendamento
                    </button>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-neutral-950 py-4 mt-12">
        <div class="container mx-auto px-4">
            <p class="text-center text-white text-base flex items-center justify-center">
                © 2025 Ivy Gabrielli | Produzido por: 
                <a href="#" class="text-white hover:opacity-80 transition-opacity flex items-center">
                    <img src="imagens/logoj3.png" alt="J3 Digital Mídia" class="inline-block h-8 ml-1 -mt-1">
                </a>
            </p>
        </div>
    </footer>

    <script>
        // Menu Mobile Toggle
        const menuBtn = document.querySelector('.menu-mobile-btn');
        const nav = document.querySelector('nav');
        
        menuBtn.addEventListener('click', () => {
            nav.classList.toggle('active');
            menuBtn.querySelector('i').classList.toggle('fa-bars');
            menuBtn.querySelector('i').classList.toggle('fa-times');
        });

        document.getElementById('agendamentoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Campos obrigatórios
            const campos = {
                nome: document.getElementById('nome'),
                email: document.getElementById('email'),
                telefone: document.getElementById('telefone'),
                cidade: document.getElementById('cidade'),
                cliente_anterior: document.querySelector('input[name="cliente_anterior"]:checked'),
                local_tatuagem: document.getElementById('local_tatuagem'),
                tamanho: document.getElementById('tamanho'),
                ideias: document.getElementById('ideias'),
                foto: document.getElementById('foto'),
                disponibilidade: document.getElementById('disponibilidade')
            };

            // Remove mensagens de erro anteriores
            document.querySelectorAll('.erro-campo').forEach(erro => erro.remove());

            // Verifica cada campo
            let temErro = false;
            
            for (let [campo, elemento] of Object.entries(campos)) {
                // Remove classes de erro anteriores
                if (elemento) {
                    elemento.classList.remove('border-red-500', 'focus:ring-red-500');
                    
                    let campoVazio = false;

                    if (campo === 'foto') {
                        campoVazio = !elemento.files || elemento.files.length === 0;
                    } else if (campo === 'cliente_anterior') {
                        campoVazio = !elemento;
                        if (campoVazio) {
                            // Adiciona borda vermelha nos radio buttons
                            document.querySelectorAll('input[name="cliente_anterior"]').forEach(radio => {
                                radio.classList.add('ring-2', 'ring-red-500');
                            });
                        }
                    } else {
                        campoVazio = !elemento.value;
                    }

                    if (campoVazio) {
                        temErro = true;
                        
                        // Adiciona classes de erro
                        if (campo !== 'cliente_anterior') {
                            elemento.classList.add('border-red-500', 'focus:ring-red-500');
                        }
                        
                        // Cria mensagem de erro
                        const mensagemErro = document.createElement('p');
                        mensagemErro.className = 'text-red-500 text-sm mt-1 erro-campo';
                        
                        // Mensagens de erro específicas
                        if (campo === 'foto') {
                            mensagemErro.textContent = 'Por favor, selecione uma imagem de referência';
                        } else if (campo === 'cliente_anterior') {
                            mensagemErro.textContent = 'Por favor, selecione uma opção';
                        } else {
                            mensagemErro.textContent = 'Este campo é obrigatório';
                        }
                        
                        // Adiciona mensagem após o elemento
                        if (campo === 'cliente_anterior') {
                            document.querySelector('input[name="cliente_anterior"]')
                                .closest('div')
                                .parentNode
                                .appendChild(mensagemErro);
                        } else {
                            elemento.parentNode.appendChild(mensagemErro);
                        }
                    }
                }
            }

            // Validação específica para email
            if (campos.email.value && !validateEmail(campos.email.value)) {
                temErro = true;
                campos.email.classList.add('border-red-500', 'focus:ring-red-500');
                const mensagemErro = document.createElement('p');
                mensagemErro.className = 'text-red-500 text-sm mt-1 erro-campo';
                mensagemErro.textContent = 'Por favor, insira um email válido';
                campos.email.parentNode.appendChild(mensagemErro);
            }

            // Se não houver erros, envia o formulário
            if (!temErro) {
                alert('Formulário enviado com sucesso! Em breve entraremos em contato.');
                this.reset();
            } else {
                // Rola até o primeiro campo com erro
                const primeiroErro = document.querySelector('.border-red-500');
                if (primeiroErro) {
                    primeiroErro.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        });

        // Função para validar email
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Máscara para o telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.slice(0, 11);
            
            if (value.length > 2) {
                value = '(' + value.slice(0, 2) + ') ' + value.slice(2);
            }
            if (value.length > 9) {
                value = value.slice(0, 9) + '-' + value.slice(9);
            }
            
            e.target.value = value;
        });

        // Adiciona validação em tempo real para os campos
        for (let campo of ['nome', 'email', 'telefone', 'cidade', 'local_tatuagem', 'tamanho', 'ideias', 'disponibilidade']) {
            document.getElementById(campo).addEventListener('input', function(e) {
                const elemento = e.target;
                if (elemento.value.trim()) {
                    elemento.classList.remove('border-red-500', 'focus:ring-red-500');
                    const erro = elemento.parentNode.querySelector('.erro-campo');
                    if (erro) erro.remove();
                }
            });
        }

        // Validação para os radio buttons
        document.querySelectorAll('input[name="cliente_anterior"]').forEach(radio => {
            radio.addEventListener('change', function() {
                // Remove a mensagem de erro
                const erro = this.closest('div').parentNode.querySelector('.erro-campo');
                if (erro) erro.remove();
                
                // Remove a borda vermelha de todos os radio buttons
                document.querySelectorAll('input[name="cliente_anterior"]').forEach(r => {
                    r.classList.remove('ring-2', 'ring-red-500');
                });
            });
        });

        // Validação para o campo de foto
        document.getElementById('foto').addEventListener('change', function(e) {
            const erro = this.parentNode.querySelector('.erro-campo');
            if (erro) erro.remove();
            
            if (this.files && this.files.length > 0) {
                this.classList.remove('border-red-500', 'focus:ring-red-500');
            }
        });
    </script>
</body>
</html>
